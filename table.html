<!DOCTYPE html>
<html lang="en">

<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .co {
            color: white;
        }
    </style>
</head>

<body>
    <input id="n">
    <button class="bg-primary" onclick="add()">Add</button>
    <button class="bg-danger" onclick="deleAll()">delete</button>
    <table class="table">
        <thead>
            <tr class="bg-dark">
                <th class="c-light bg-dark co" scope="col">#</th>
                <th class="c-light bg-dark co" scope="col">First</th>
                <th class="c-light bg-dark co" scope="col">Handle</th>
            </tr>
        </thead>
        <tbody id="table">

        </tbody>
    </table>
    <script>
        get()

        function add() {
            let n = document.getElementById("n").value;
            if (!n) {
                alert("the input is empty")
                return
            }
            let oldtask = JSON.parse(localStorage.getItem('friut') || '[]')
            oldtask.push(n)
            let xx = JSON.stringify(oldtask);
            let bb = localStorage.setItem('friut', xx)
            let nn = document.getElementById("n").value = '';
            get()
        }

        function get() {
            let ansh = localStorage.getItem('friut') || '[]';
            let nn = JSON.parse(ansh);
            let html = '';
            nn.map((taskname, index) => {
                html += `<tr><td>${index+1}</td><td>${taskname}</td><td><button onclick="del(${index})">delete</button></td></tr>`
            })
            let xx = JSON.stringify(nn);
            let table = document.getElementById("table");
            table.innerHTML = html;
        }

        function deleAll() {
            localStorage.removeItem('friut')
            let ansh = localStorage.getItem('friut') || '[]';
            let nn = JSON.parse(ansh);
            let html = '';
            nn.map((taskname, index) => {
                html += `<tr><td>${index+1}</td><td>${taskname}</td><td><button onclick="del(${index})">delete</button></td></tr>`
            })
            let xx = JSON.stringify(nn);
            let table = document.getElementById("table");
            table.innerHTML = html;
        }

        function del(index) {
            let ansh = localStorage.getItem('friut') || '[]';
            let nn = JSON.parse(ansh);
            let xx = nn.filter((data, dxt) => {
                return index !== dxt
            })

            let str = JSON.stringify(xx);
            localStorage.setItem('friut', str)
            let cvb = localStorage.getItem('friut') || '[]';
            let xxn = JSON.parse(cvb);
            let html = '';
            xxn.map((taskname, index) => {
                html += `<tr><td>${index+1}</td><td>${taskname}</td><td><button onclick="del(${index})">delete</button></td></tr>`
            })
            let lol = JSON.stringify(xxn);
            let table = document.getElementById("table");
            table.innerHTML = html;

        }
    </script>

</body>

</html>